body {
            font-family: Arial, sans-serif;
            background: #0d1117;
            color: #e6edf3;
            margin: 0;
            padding: 0;
        }

        h1, h2, h3 {
            margin: 0 0 10px 0;
            font-weight: 600;
        }

        .container {
            width: 95%;
            max-width: 1400px;
            margin: 20px auto;
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        /* Splash screen styling */
        body.splash {
            background: #0d1117;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }

        .splash img {
            width: 180px;
            height: auto;
            margin-bottom: 20px;
        }

        .splash h1 {
            font-size: 24px;
            font-weight: 600;
        }

/* Two-column layout on medium+ screens */
@media (min-width: 900px) {
    .container {
        grid-template-columns: 1fr 1fr;
    }
}

/* Make header card span both columns */
.header-card {
    grid-column: 1 / -1;
}

        /* ------------------------------
           Card Layout
        ------------------------------ */
        .card {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 20px;
        }

        .header-card {
            display: flex;
            gap: 20px;
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 20px;
        }

        .header-avatar img {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            object-fit: cover;
        }

        .header-info {
            flex: 1;
        }

        .header-meta {
            margin-bottom: 10px;
            color: #8b949e;
        }

        .header-metrics {
            display: flex;
            gap: 20px;
        }

        .header-metric-label {
            font-size: 0.8rem;
            color: #8b949e;
        }

        .header-metric-value {
            font-size: 1.1rem;
            font-weight: bold;
        }

        /* ------------------------------
           Badges
        ------------------------------ */
        .badge {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            color: #fff;
        }

        .badge-low { background: #238636; }
        .badge-moderate { background: #9e6a03; }
        .badge-high { background: #da3633; }

        .status-good { background: #238636; }
        .status-warning { background: #9e6a03; }
        .status-bad { background: #da3633; }

        .pw-good { background: #238636; }
        .pw-too-fresh { background: #58a6ff; }
        .pw-not-ready { background: #9e6a03; }
        .pw-outside { background: #6e7681; }

        .ramp-safe { background: #238636; }
        .ramp-medium { background: #9e6a03; }
        .ramp-high { background: #da3633; }
        .ramp-unknown { background: #6e7681; }

        /* ------------------------------
           Week Calendar
        ------------------------------ */
        .week-calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, minmax(0, 1fr));
            gap: 10px;
        }

        /* Force calendar text to white */
        .week-calendar * {
            color: white !important;
        }


/*        @media (min-width: 700px) {
/*            .week-calendar-grid {
/*                grid-template-columns: repeat(2, 1fr);
/*            }
/*        }

/*        @media (min-width: 1100px) {
/*            .week-calendar-grid {
/*                grid-template-columns: repeat(3, 1fr);
/*            }
/*        }

        .week-cell {
            overflow-wrap: break-word;
            word-break: break-word;
            white-space: normal;
            max-width: 100%;
            box-sizing: border-box;
            background-colour: #0d1117;
            border: 1px solid #30363d;
            border-radius: 6px;
            padding: 12px;
        }

        .week-day-label {
            font-weight: 700 !important;
            font-size: 1rem;
            margin-bottom: 6px;
        }

        .week-session-text,
        .session-card,
        .activity-block {
            max-width: 100%;
            overflow-wrap: break-word;
            word-break: break-word;
            white-space: normal;
        }

        .week-session-text {
            font-size: 0.9rem;
            line-height: 1.3;
        }

        .small {
            font-size: 0.75rem;
            color: white;
        }

        .activity-block {
            margin-bottom: 10px;
        }

        /* ------------------------------
           Tables
        ------------------------------ */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        th, td {
            border: 1px solid #30363d;
            padding: 8px;
            text-align: left;
        }

        th {
            background: #21262d;
        }
        
        .tabs {
               display: flex;
            gap: 10px;
            margin: 20px;
        }

        .tab-button {
            background: #21262d;
            border: 1px solid #30363d;
            color: #e6edf3;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.2s ease;
        }

        .tab-button:hover {
            background: #30363d;
        }

        .tab-button.active {
            background: #238636;
            border-color: #2ea043;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .week-cell.zone-endurance {background-color: #5bc0de;   /* Light Blue */}
        .week-cell.zone-tempo {background-color: #2e8b57;   /* Green */}
        .week-cell.zone-sweetspot {background-color: #ffd700;   /* Gold / Yellow */}
        .week-cell.zone-threshold {background-color: #d9534f;   /* Red */}
        .week-cell.zone-vo2 {background-color: #8b0000;   /* Dark Red */}
        .week-cell.zone-anaerobic {background-color: #6f42c1;   /* Purple */}
        .week-cell.zone-race {background-color: #341539;   /* Dark Purple */}
        .week-cell.zone-rest {background-color: #444;      /* Grey */}

        .planned-session {
            background-color: #0f1a2a;        /* dark blue */
            border-left: 4px solid #4a90e2;   /* blue accent */
        }

        .actual-session {
            background-color: #1a1f10;        /* dark green */
            border-left: 4px solid #32cd32;   /* lime green accent */
        }

        /* Remove color from source types */
        .actual-session,
        .planned-session {
            background: none;
            border-left: none;
        }
   
        .why-session {
            color: #aaa;
            font-size: 0.75rem;
            display: block;
            margin-top: 2px;
        }

        .control-button {
            background: #238636;
            border: 1px solid #2ea043;
            color: #fff;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .control-button:hover {
            background: #2ea043;
        }
        
        .activity-block {
            margin-bottom: 12px;
        }
       
        .week-cell.zone-race { background-color: #ff000020; }
        
        .hours-display {
            background: #1e1e1e;
            color: #fff;
            padding: 10px 14px;
            border-radius: 6px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 10px;
            border: 1px solid #333;
        }

        .hours-display .label {
            opacity: 0.8;
        }

        .hours-display .value {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .hours-input {
            padding: 8px 10px;
            border-radius: 6px;
            border: 1px solid #444;
            background: #fff;
            color: #000;
            width: 80px;
            margin-right: 10px;
            font-size: 1rem;
        }

       .helper-text {
            font-size: 0.85rem;
            color: #aaa;
            margin-top: 4px;
        }

       .save-button {
            background: #28a745;
            color: #fff;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s ease, transform 0.1s ease;
        }

        .save-button:hover {
            background: #2ecc71;
        }

        .save-button:active {
            transform: scale(0.97);
        }

        .hours-input {
            background: #2b2b2b;          /* Dark background */
            color: #ffffff;               /* White text */
            border: 1px solid #444;       /* Subtle border */
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 1rem;
            width: 110px;
            outline: none;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .hours-input:focus {
            border-color: #28a745;        /* Green highlight */
            box-shadow: 0 0 4px #28a745;
        }
       
       .hours-input::placeholder {
            color: #aaa;
            font-style: italic;
        }

        .zwo-file-name {
            display: block;
            font-size: 0.8rem;
            overflow-wrap: anywhere;
            word-break: break-word;
            white-space: normal;
            line-height: 1.2;
        }
        
        .zone-endurance {background-color: #368bf3;   /* Light Blue */color: #fff;}
        .zone-tempo {background-color: #59bd59;   /* Green */color: #fff;}
        .zone-threshold {background-color: #f8cc44;   /* Yellow */color: #fff;}
        .zone-sweetspot {background-color: #59bd59;   /* Green */color: #fff;}
        .zone-race {background-color: #341539;   /* Dark Purple */color: #fff;}
        .zone-rest {background-color: #7f7f7f;color: #ccc;}
        
        .week-session-text {
            border-radius: 6px;
            padding: 10px;
            margin-bottom: 10px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .session-card {
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 12px;
            font-size: 0.9rem;
            font-weight: 500;
            border: 1px solid #333;
        }

        .week-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 12px;
            margin-top: 20px;
        }

        .day-column {
            background: #1e1e1e;
            border: 1px solid #333;
            border-radius: 6px;
            padding: 10px;
            color: #fff;
            font-size: 0.9rem;
        }

        .collapsible-card-header {
            cursor: pointer;
            font-weight: bold;
            padding: 10px;
            background-color: #444;
            color: #fff;
            border-radius: 6px;
            margin-bottom: 6px;
        }

        .collapsible-card-content {
            display: none;
            padding: 10px;
            border: 1px solid #333;
            border-radius: 6px;
            background-color: #1e1e1e;
        }

        .zwift-icon {
            width: 20px;
            height: 20px;
            vertical-align: middle;
            margin-right: 6px;
        }

        .zwo-tooltip {
            position: relative;
            display: inline-block;
        }

        .zwo-tooltip .tooltip-content {
            display: none;
            position: absolute;
            top: 24px;
            left: 0;
            background: #1e1e1e;
            border: 1px solid #333;
            padding: 10px;
            border-radius: 6px;
            width: 260px;
            z-index: 999;
            font-size: 0.8rem;
            color: #fff;
        }

        .zwo-tooltip:hover .tooltip-content {
            display: block;
        }

        .week-day-label {
            text-align: center !important;
            font-weight: 800;
            font-size: 1.1rem;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
        }

        .zwo-file-name {
            display: block;
            font-size: 0.8rem;
            overflow-wrap: anywhere;
            word-break: break-word;
            white-space: normal;
            line-height: 1.2;
        }

        .inline-block {
            margin-right: 1px;
            border-radius: 3px;
            box-shadow: 0 0 3px rgba(0,0,0,0.4);
        }

        .inline-block:last-child {
            margin-right: 0;
            }

        .inline-warmup      { background: #7f7f7f; }   /* Zwift Grey */
        .inline-steadystate { background: #2596be; }   /* Zwift Blue */
        .inline-interval    { background: #f8cc44; }   /* Zwift orange-red */
        .inline-cooldown    { background: #7f7f7f; }   /* Zwift Grey */
        .inline-other       { background: #888; }

        .week-session-text {
            overflow: visible !important;
        }

        .inline-preview {
            display: flex;
            align-items: center;
            gap: 2px;
            margin-top: 8px;
            padding: 4px;
            background: #0d0d0d;       /* Zwift-style dark track */
            border-radius: 4px;
            overflow: hidden;          /* Prevent spillover */
            box-shadow: inset 0 0 4px rgba(0,0,0,0.4);
            margin: 8px auto 0 auto;   /* auto left/right centers it */
            width: 90%;                /* optional: keeps it tidy */
        }

        .inline-block {
            height: 10px;
            border-radius: 2px;
            flex-shrink: 1;   /* allow shrinking */
            flex-basis: 0;    /* required for flexGrow to work properly */
        }

        .week-session-text {
            margin-bottom: 12px;
        }

        /* ============================================
        MOBILE OPTIMISATION â€” iPhone Friendly Layout
        ============================================ */

        @media (max-width: 768px) {

            /* Global spacing */
            body {
                padding: 12px;
                font-size: 16px;
                line-height: 1.4;
            }

        /* Cards become full-width stacked blocks */
        .card {
            width: 100% !important;
            margin: 0 0 16px 0 !important;
            padding: 16px !important;
            box-sizing: border-box;
        }

        /* Header layout fixes */
        .header-container {
            flex-direction: column !important;
            align-items: flex-start !important;
            gap: 12px !important;
            width: 100%;
        }

        /* Summary grids collapse to single column */
        .summary-grid {
            display: grid;
        grid-template-columns: 1fr !important;
            gap: 12px;
            width: 100%;
        }

        /* Session rows stack vertically */
        .session-row {
            display: flex;
            flex-direction: column !important;
            align-items: flex-start !important;
            gap: 8px !important;
            width: 100%;
        }

        /* Buttons and inputs become touch-friendly */
        button,
        input[type="text"],
        select {
            font-size: 16px !important;
            padding: 12px 16px !important;
            border-radius: 8px !important;
            width: 100%;
            box-sizing: border-box;
        }

        /* Charts resize properly */
        .chart-container {
        width: 100% !important;
            max-width: 100% !important;
            overflow-x: auto !important;
        }



        /* Tables scroll horizontally instead of breaking layout */
        table {
            display: block;
            width: 100%;
            overflow-x: auto;
            border-collapse: collapse;
        }
    }
    
    /* ============================================
    iPhone 14/15 Optimisation
    ============================================ */

    @media (max-width: 430px) {

        body {
            background: #0d1117;
            color: #e6edf3;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            padding: 12px;
            font-size: 16px;
            line-height: 1.45;
        }

        .card {
            width: 100%;
            background: #161b22;
            border: 1px solid #30363d;
            margin: 0 0 16px 0;
            padding: 16px;
            border-radius: 12px;
        }

        .header-container {
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
            width: 100%;
        }

        .summary-grid {
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .session-row {
            flex-direction: column;
            align-items: flex-start;
            gap: 6px;
        }

        button,
        input[type="text"],
        select {
            width: 100%;
            padding: 14px;
            font-size: 17px;
            border-radius: 10px;
        }

        .chart-container {
            width: 100%;
            max-width: 100%;
            overflow-x: auto;
        }
    }
    

        .session-workout-preview {
            font-size: 0.85rem;
            color: #ddd;
            margin-top: 0.5rem;
        }

        .workout-summary-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.4rem;
            font-weight: 500;
        }

        .workout-blocks {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.3rem;
        }

        .workout-block {
            background: #1b1f2a;
            border-radius: 4px;
            padding: 0.3rem 0.4rem;
        }

        .block-label {
            font-weight: 600;
            margin-bottom: 0.1rem;
        }

        .block-meta {
            font-size: 0.75rem;
            color: #aaa;
        }

        .btn-download {
            display: flex;
            margin-top: 0.5rem;
            padding: 0.3rem 0.7rem;
            border-radius: 4px;
            background: #ff7b00;
            color: #000;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 600;
            flex-direction: column;
            align-items: center;   /* centers everything inside */
        }
